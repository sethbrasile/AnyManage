---
phase: 04-skill-system-foundation
plan: 03
type: execute
wave: 2
depends_on: [04-01]
files_modified:
  - docs/SKILL_AUTHORING_GUIDE.md
autonomous: true

must_haves:
  truths:
    - "User can learn how to create custom skills from the authoring guide"
    - "Guide shows SKILL.md format with concrete examples"
    - "Guide explains description-based triggering for natural language activation"
    - "Guide documents skill storage locations for cross-platform compatibility"
  artifacts:
    - path: "docs/SKILL_AUTHORING_GUIDE.md"
      provides: "Complete skill authoring documentation"
      min_lines: 150
      contains: "SKILL.md"
  key_links:
    - from: "docs/SKILL_AUTHORING_GUIDE.md"
      to: ".github/skills/"
      via: "references skill storage location"
      pattern: ".github/skills/"
    - from: "docs/SKILL_AUTHORING_GUIDE.md"
      to: "docs/protocols/skill-discovery.md"
      via: "references discovery protocol"
      pattern: "skill-discovery.md"
---

<objective>
Create the skill authoring guide that teaches users how to create custom skills for their domain. Document the SKILL.md format, triggering patterns, best practices, and common pitfalls.

Purpose: Enable users to extend the system with their own workflows. This fulfills requirement KNOW-06 (Skill authoring guide).

Output: docs/SKILL_AUTHORING_GUIDE.md
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-skill-system-foundation/04-CONTEXT.md
@.planning/phases/04-skill-system-foundation/04-RESEARCH.md
@.planning/phases/04-skill-system-foundation/04-01-SUMMARY.md
@docs/protocols/skill-discovery.md
@.github/skills/process-notes/SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create skill authoring guide</name>
  <files>docs/SKILL_AUTHORING_GUIDE.md</files>
  <action>
Create `docs/SKILL_AUTHORING_GUIDE.md` as a comprehensive guide for creating custom skills:

```markdown
# Skill Authoring Guide

How to create custom skills for Agent PM.

## What Are Skills?

Skills are reusable workflows that encode best practices. They let you teach the agent new capabilities without modifying core instructions.

**Key principle:** Users don't need to know skill names. They describe what they want in plain English, and the agent matches their intent to available skills.

## Quick Start

1. Create a folder in `.github/skills/[skill-name]/`
2. Create a `SKILL.md` file inside
3. Add YAML frontmatter with `name` and `description`
4. Add Markdown instructions below

That's it. The agent will discover your skill automatically.

## SKILL.md Format

Skills use the Agent Skills 1.0 standard: YAML frontmatter + Markdown body.

### Minimal Example

```yaml
---
name: send-invoice
description: Generate and send invoice for an entity. Use when user says "send invoice", "bill the client", or mentions invoicing.
---

# Send Invoice Skill

Generate invoice based on completed work and send to client.

## How It Works
1. Read entity's completed tasks from ROADMAP.md
2. Calculate hours/items for invoice
3. Generate invoice document
4. Send via configured method (email, save as PDF, etc.)
```

### Complete Example

```yaml
---
name: client-handoff
description: Prepare handoff documentation when transitioning a client to another team member. Use when user says "prepare handoff", "transition client", or mentions handing off an account.
metadata:
  author: your-agency
  version: "1.0"
  compatible_entity_types: ["client"]
---

# Client Handoff Skill

Prepare comprehensive handoff package for client transitions.

## When to Use
- Team member is leaving
- Client being reassigned
- Temporary coverage needed

## How It Works
1. Export entity profile and recent history
2. Summarize active work and pending items
3. Document key contacts and relationships
4. List upcoming commitments and deadlines
5. Generate handoff document

## Output Format
Creates `entities/[Name]/planning/HANDOFF.md` with:
- Client overview (from profile)
- Active projects and status
- Key contacts and relationships
- Upcoming commitments
- Institutional knowledge / "things to know"

## Error Handling
- Missing profile sections -> Note as "[To be gathered]"
- No active work -> Report "No active work items"
```

## The Description Field

**This is the most important part.** The description determines when your skill activates.

### Good Descriptions

Include:
- What the skill does
- Common phrasings users might use
- Contexts where the skill applies

```yaml
description: Generate weekly status report across all entities. Use when the user asks for a "weekly review", "weekly summary", "status update across all clients", or wants to see progress across entities.
```

### Bad Descriptions

Too vague:
```yaml
description: Generate reports  # What kind? When?
```

Missing triggers:
```yaml
description: Creates a weekly status report  # Doesn't say "weekly review", "summary", etc.
```

## Skill Storage Locations

| Location | Purpose | When to Use |
|----------|---------|-------------|
| `.github/skills/` | Cross-platform (recommended) | Works with Claude Code, Copilot, VS Code, etc. |
| `.claude/skills/` | Claude Code specific | Override behavior for Claude Code only |
| `.opencode/skills/` | opencode specific | Override behavior for opencode only |

**Best practice:** Put skills in `.github/skills/` for maximum portability. Use agent-specific directories only when you need different behavior per agent.

## Referencing Existing Protocols

Skills should reference existing protocols, not duplicate them:

```markdown
## How It Works
See `docs/protocols/note-processing.md` for the complete step-by-step protocol.

**Summary:**
1. Identify input source
2. Extract tasks and profile facts
3. Apply updates
4. Archive processed notes
```

This keeps skills lightweight and avoids maintenance burden.

## Supporting Batch Operations

All skills should support batch operations where applicable:

```markdown
## Batch Processing

Supports:
- "Send invoice for Acme, Beta" -> specific entities
- "Send invoices for all clients" -> all entities
- "Invoice Acme" -> single entity

Shows progress: "Generating 5 invoices... (2/5 complete)"
```

## Entity Type Awareness

Skills can work with any entity type:

```yaml
metadata:
  compatible_entity_types: ["client", "project", "product"]
```

In the skill body, read entity type from CONFIG.md:

```markdown
## Entity Type Handling

Read `entity_type` from CONFIG.md frontmatter:
- If `client` -> Use "client" terminology
- If `project` -> Use "project" terminology

Adapt section names accordingly:
- Clients: "Client Background", "Key Contacts"
- Projects: "Project Overview", "Team Members"
```

## Best Practices

### DO

- Keep descriptions under 300 characters
- Include common phrasings in description
- Reference protocols instead of duplicating
- Support batch operations where applicable
- Show progress during long operations
- Handle errors gracefully with plain English messages

### DON'T

- Hardcode entity type (use CONFIG.md)
- Ask for confirmation on non-destructive operations
- Create skills over 5,000 tokens (split into referenced files)
- Duplicate logic that exists in protocols

## Token Budget

Skills load on demand (progressive disclosure):

| Phase | What Loads | Token Cost |
|-------|------------|------------|
| Startup | Name + description only | ~50 tokens/skill |
| Activation | Full SKILL.md | 2,000-5,000 tokens |

If your skill exceeds 5,000 tokens, move detailed instructions to `references/` folder:

```
.github/skills/complex-workflow/
  SKILL.md           # Core instructions (~2,000 tokens)
  references/
    edge-cases.md    # Loaded only if needed
    examples.md      # Loaded only if needed
```

## Testing Your Skill

1. **Natural language:** Try different phrasings to see if skill activates
   - "Send invoice for Acme"
   - "Bill the client"
   - "I need to invoice Beta Industries"

2. **Slash command:** Verify `/skill-name` works directly

3. **Batch:** Test with multiple entities

4. **Error cases:** Test with missing entities, empty data, etc.

## Common Pitfalls

### Skill Doesn't Activate

**Symptom:** User says "invoice the client" but skill doesn't run.

**Fix:** Add that phrasing to description:
```yaml
description: ...Use when user says "invoice the client", "send invoice"...
```

### Skill Conflicts with Another

**Symptom:** Wrong skill activates, or agent asks which one to use.

**Fix:** Make descriptions more specific. Add unique triggers.

### Skill Output is Wrong for Entity Type

**Symptom:** Skill says "client" when user configured entity_type as "project".

**Fix:** Read entity_type from CONFIG.md, adapt terminology.

## Examples

See existing PM base skills for reference:
- `.github/skills/process-notes/SKILL.md` - Note processing workflow
- `.github/skills/get-status/SKILL.md` - Status reporting
- `.github/skills/weekly-review/SKILL.md` - Weekly summary across entities

---

*For skill discovery protocol details, see `docs/protocols/skill-discovery.md`*
```

This guide should be comprehensive but accessible to non-technical users. Focus on practical examples and clear do/don't guidance.
  </action>
  <verify>
wc -l docs/SKILL_AUTHORING_GUIDE.md
# Should be 150+ lines
cat docs/SKILL_AUTHORING_GUIDE.md | grep -c "SKILL.md"
# Should find multiple references to SKILL.md format
  </verify>
  <done>Skill authoring guide exists with complete documentation for creating custom skills</done>
</task>

<task type="auto">
  <name>Task 2: Update INSTRUCTIONS.md with authoring guide reference</name>
  <files>INSTRUCTIONS.md</files>
  <action>
Add a reference to the skill authoring guide in INSTRUCTIONS.md.

In the "Detailed Documentation" section at the end, add:

```markdown
- `docs/SKILL_AUTHORING_GUIDE.md` - How to create custom skills
```

This should be a single line addition. Keep it minimal - the guide itself has all the details.
  </action>
  <verify>
grep "SKILL_AUTHORING_GUIDE" INSTRUCTIONS.md
# Should find reference to the guide
  </verify>
  <done>INSTRUCTIONS.md references the skill authoring guide</done>
</task>

</tasks>

<verification>
1. Authoring guide exists and is comprehensive:
   - `docs/SKILL_AUTHORING_GUIDE.md` exists
   - Contains SKILL.md format explanation
   - Contains description field guidance
   - Contains batch operation patterns
   - Contains token budget guidance
   - Contains common pitfalls section

2. Guide references existing skills:
   - References `.github/skills/process-notes/SKILL.md`
   - References `.github/skills/get-status/SKILL.md`
   - References `.github/skills/weekly-review/SKILL.md`

3. INSTRUCTIONS.md updated:
   - References SKILL_AUTHORING_GUIDE.md
</verification>

<success_criteria>
- Skill authoring guide is complete and accessible to non-technical users
- Guide shows concrete examples (minimal and complete)
- Guide explains description-based triggering clearly
- Guide documents storage locations and cross-platform compatibility
- Guide includes best practices and common pitfalls
- INSTRUCTIONS.md references the authoring guide
</success_criteria>

<output>
After completion, create `.planning/phases/04-skill-system-foundation/04-03-SUMMARY.md`
</output>
